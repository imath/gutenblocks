!function(){if("undefined"!=typeof gutenblocksl10nAjax){var a=document.querySelector(".gutenblocks-i18n-switcher").parentElement,b=document.createElement("IMG"),c=function(a,b){var c,d,e={"X-Requested-With":"XMLHttpRequest","Cache-Control":"no-cache, must-revalidate, max-age=0","Content-Type":"application/x-www-form-urlencoded"};c="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a=a||{},d=Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&"),c.onreadystatechange=function(a){if(a.currentTarget&&4===a.currentTarget.readyState){var c,d=JSON.parse(a.currentTarget.responseText);c=d.status?d.status:a.currentTarget.status,b&&b(c,d)}},c.open("POST",gutenblocksl10nAjax.ajaxurl);for(var f in e)c.setRequestHeader(f,e[f]);c.send(d)};a.addEventListener("click",function(d){var e,f,g,h=document.querySelector(".wp-block-gutenblocks-i18n");if("gutenblocks-i18n-switcher"===d.target.parentElement.parentElement.getAttribute("class")){if(d.preventDefault(),null!==document.querySelector("#gutenblocks-ajax-error")&&document.querySelector("#gutenblocks-ajax-error").remove(),f=h.innerHTML,-1!==d.target.parentElement.getAttribute("class").indexOf("current-locale")||-1!==h.innerHTML.indexOf(gutenblocksl10nAjax.loader))return;return d.target.parentElement.parentElement.childNodes.forEach(function(a){"LI"===a.nodeName&&-1!==a.getAttribute("class").indexOf("current-locale")&&(g=a.getAttribute("class").replace(" current-locale",""),a.setAttribute("class",g))}),b.setAttribute("src",gutenblocksl10nAjax.loader),b.setAttribute("style","display: block; margin: 1em auto;"),h.innerHTML="",h.appendChild(b),void(e=c({action:"gutenblock_ajax_translate",link:d.target.getAttribute("href"),nonce:gutenblocksl10nAjax.nonce},function(b,c){200===b&&c.post_content?(d.target.parentElement.setAttribute("class",d.target.parentElement.getAttribute("class")+" current-locale"),h.remove(),a.insertAdjacentHTML("beforeend",c.post_content)):(document.querySelector("."+g).setAttribute("class",document.querySelector("."+g).getAttribute("class")+" current-locale"),h.innerHTML=f,c.message&&(h.insertAdjacentHTML("afterbegin",c.message),document.querySelector("#gutenblocks-ajax-error").setAttribute("style","border-left: solid 3px #dc3232; padding: 0.5em;")))}))}return d})}}();